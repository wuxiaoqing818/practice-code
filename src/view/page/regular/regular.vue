<template>
  <div class="regular">
    <span>手机电话号：</span>
    <el-input v-model.trim="phone" v-elFocus style="width: 400px"></el-input>
    <button @click="checkPhone()">验证手机电话号</button>

    <div>
      <el-table
        :data="content"
        style="width: 100%; margin-bottom: 20px"
        row-key="id"
        border
        default-expand-all
        :tree-props="{ children: 'teamList', hasChildren: '' }"
      >
        <el-table-column label="姓名" sortable>
          <template slot-scope="scope">
            <span
              v-text="
                scope.row.corpName ? scope.row.corpName : scope.row.teamName
              "
            ></span>
          </template>
        </el-table-column>
        <el-table-column label="姓名" sortable>
          <template slot-scope="scope">
            <span
              v-text="
                scope.row.corpName ? scope.row.corpName : scope.row.teamName
              "
            ></span>
          </template>
        </el-table-column>
        <el-table-column label="姓名" sortable>
          <template slot-scope="scope">
            <span
              v-text="
                scope.row.corpName ? scope.row.corpName : scope.row.teamName
              "
            ></span>
          </template>
        </el-table-column>
      </el-table>
    </div>
  </div>
</template>
  </div>

  
</template>

<script>
import { teleAndMobilePhone } from "@/plugin/regular";
export default {
  data() {
    return {
      phone: "",
      
  "content": [
    {
      "2021-06-20": "0.00",
      "2021-06-21": "0.00",
      "2021-06-22": "0.00",
      "2021-06-01": "0.00",
      "2021-06-23": "0.00",
      "2021-06-02": "0.00",
      "2021-06-24": "0.00",
      "2021-06-03": "0.00",
      "2021-06-25": "0.00",
      "id": 53883547344896,
      "2021-06-04": "0.00",
      "2021-06-26": "0.00",
      "teamList": [
        {
          "teamName": "施工单位项目管理部门",
          "2021-06-20": "0.00",
          "2021-06-21": "0.00",
          "2021-06-22": "0.00",
          "2021-06-01": "0.00",
          "2021-06-23": "0.00",
          "2021-06-02": "0.00",
          "2021-06-24": "0.00",
          "2021-06-03": "0.00",
          "2021-06-25": "0.00",
          "2021-06-04": "0.00",
          "2021-06-26": "0.00",
          "2021-06-05": "0.00",
          "2021-06-27": "0.00",
          "2021-06-06": "0.00",
          "2021-06-28": "0.00",
          "2021-06-07": "0.00",
          "2021-06-29": "0.00",
          "2021-06-08": "0.00",
          "2021-06-09": "0.00",
          "2021-06-30": "0.00",
          "2021-06-10": "9.09",
          "teamId": 53883547344898,
          "2021-06-11": "0.00",
          "2021-06-12": "0.00",
          "2021-06-13": "0.00",
          "2021-06-14": "0.00",
          "2021-06-15": "0.00",
          "2021-06-16": "0.00",
          "2021-06-17": "0.00",
          "2021-06-18": "0.00",
          "2021-06-19": "0.00"
        },
        {
          "teamName": "木工班组",
          "2021-06-20": "0.00",
          "2021-06-21": "0.00",
          "2021-06-22": "0.00",
          "2021-06-01": "0.00",
          "2021-06-23": "0.00",
          "2021-06-02": "0.00",
          "2021-06-24": "0.00",
          "2021-06-03": "0.00",
          "2021-06-25": "0.00",
          "2021-06-04": "0.00",
          "2021-06-26": "0.00",
          "2021-06-05": "0.00",
          "2021-06-27": "0.00",
          "2021-06-06": "0.00",
          "2021-06-28": "0.00",
          "2021-06-07": "0.00",
          "2021-06-29": "0.00",
          "2021-06-08": "0.00",
          "2021-06-09": "0.00",
          "2021-06-30": "0.00",
          "2021-06-10": "0.00",
          "teamId": 53883815124992,
          "2021-06-11": "0.00",
          "2021-06-12": "0.00",
          "2021-06-13": "0.00",
          "2021-06-14": "0.00",
          "2021-06-15": "0.00",
          "2021-06-16": "0.00",
          "2021-06-17": "0.00",
          "2021-06-18": "0.00",
          "2021-06-19": "0.00"
        }
      ],
      "2021-06-05": "0.00",
      "2021-06-27": "0.00",
      "2021-06-06": "0.00",
      "2021-06-28": "0.00",
      "2021-06-07": "0.00",
      "2021-06-29": "0.00",
      "2021-06-08": "0.00",
      "2021-06-09": "0.00",
      "corpName": "浙江杰立建设集团有限公司",
      "2021-06-30": "0.00",
      "2021-06-10": "5.88",
      "2021-06-11": "0.00",
      "2021-06-12": "0.00",
      "2021-06-13": "0.00",
      "2021-06-14": "0.00",
      "2021-06-15": "0.00",
      "2021-06-16": "0.00",
      "2021-06-17": "0.00",
      "2021-06-18": "0.00",
      "2021-06-19": "0.00"
    },
    {
      "2021-06-20": "0.00",
      "2021-06-21": "0.00",
      "2021-06-22": "0.00",
      "2021-06-01": "0.00",
      "2021-06-23": "0.00",
      "2021-06-02": "0.00",
      "2021-06-24": "0.00",
      "2021-06-03": "0.00",
      "2021-06-25": "0.00",
      "id": 54345754796033,
      "2021-06-04": "0.00",
      "2021-06-26": "0.00",
      "teamList": [
        {
          "teamName": "监理单位管理部",
          "2021-06-20": "0.00",
          "2021-06-21": "0.00",
          "2021-06-22": "0.00",
          "2021-06-01": "0.00",
          "2021-06-23": "0.00",
          "2021-06-02": "0.00",
          "2021-06-24": "0.00",
          "2021-06-03": "0.00",
          "2021-06-25": "0.00",
          "2021-06-04": "0.00",
          "2021-06-26": "0.00",
          "2021-06-05": "0.00",
          "2021-06-27": "0.00",
          "2021-06-06": "0.00",
          "2021-06-28": "0.00",
          "2021-06-07": "0.00",
          "2021-06-29": "0.00",
          "2021-06-08": "0.00",
          "2021-06-09": "0.00",
          "2021-06-30": "0.00",
          "2021-06-10": "0.00",
          "teamId": 54345754796034,
          "2021-06-11": "0.00",
          "2021-06-12": "0.00",
          "2021-06-13": "0.00",
          "2021-06-14": "0.00",
          "2021-06-15": "0.00",
          "2021-06-16": "0.00",
          "2021-06-17": "0.00",
          "2021-06-18": "0.00",
          "2021-06-19": "0.00"
        }
      ],
      "2021-06-05": "0.00",
      "2021-06-27": "0.00",
      "2021-06-06": "0.00",
      "2021-06-28": "0.00",
      "2021-06-07": "0.00",
      "2021-06-29": "0.00",
      "2021-06-08": "0.00",
      "2021-06-09": "0.00",
      "corpName": "中国铁路设计集团有限公司",
      "2021-06-30": "0.00",
      "2021-06-10": "0.00",
      "2021-06-11": "0.00",
      "2021-06-12": "0.00",
      "2021-06-13": "0.00",
      "2021-06-14": "0.00",
      "2021-06-15": "0.00",
      "2021-06-16": "0.00",
      "2021-06-17": "0.00",
      "2021-06-18": "0.00",
      "2021-06-19": "0.00"
    },
    {
      "2021-06-20": "0.00",
      "2021-06-21": "0.00",
      "2021-06-22": "0.00",
      "2021-06-01": "0.00",
      "2021-06-23": "0.00",
      "2021-06-02": "0.00",
      "2021-06-24": "0.00",
      "2021-06-03": "0.00",
      "2021-06-25": "0.00",
      "id": 54345815875584,
      "2021-06-04": "0.00",
      "2021-06-26": "0.00",
      "teamList": [
        {
          "teamName": "设备分包管理部",
          "2021-06-20": "0.00",
          "2021-06-21": "0.00",
          "2021-06-22": "0.00",
          "2021-06-01": "0.00",
          "2021-06-23": "0.00",
          "2021-06-02": "0.00",
          "2021-06-24": "0.00",
          "2021-06-03": "0.00",
          "2021-06-25": "0.00",
          "2021-06-04": "0.00",
          "2021-06-26": "0.00",
          "2021-06-05": "0.00",
          "2021-06-27": "0.00",
          "2021-06-06": "0.00",
          "2021-06-28": "0.00",
          "2021-06-07": "0.00",
          "2021-06-29": "0.00",
          "2021-06-08": "0.00",
          "2021-06-09": "0.00",
          "2021-06-30": "0.00",
          "2021-06-10": "0.00",
          "teamId": 54345815875585,
          "2021-06-11": "0.00",
          "2021-06-12": "0.00",
          "2021-06-13": "0.00",
          "2021-06-14": "0.00",
          "2021-06-15": "0.00",
          "2021-06-16": "0.00",
          "2021-06-17": "0.00",
          "2021-06-18": "0.00",
          "2021-06-19": "0.00"
        },
        {
          "teamName": "设备分包管理部899",
          "2021-06-20": "0.00",
          "2021-06-21": "0.00",
          "2021-06-22": "0.00",
          "2021-06-01": "0.00",
          "2021-06-23": "0.00",
          "2021-06-02": "0.00",
          "2021-06-24": "0.00",
          "2021-06-03": "0.00",
          "2021-06-25": "0.00",
          "2021-06-04": "0.00",
          "2021-06-26": "0.00",
          "2021-06-05": "0.00",
          "2021-06-27": "0.00",
          "2021-06-06": "0.00",
          "2021-06-28": "0.00",
          "2021-06-07": "0.00",
          "2021-06-29": "0.00",
          "2021-06-08": "0.00",
          "2021-06-09": "0.00",
          "2021-06-30": "0.00",
          "2021-06-10": "0.00",
          "teamId": 54426773282820,
          "2021-06-11": "0.00",
          "2021-06-12": "0.00",
          "2021-06-13": "0.00",
          "2021-06-14": "0.00",
          "2021-06-15": "0.00",
          "2021-06-16": "0.00",
          "2021-06-17": "0.00",
          "2021-06-18": "0.00",
          "2021-06-19": "0.00"
        }
      ],
      "2021-06-05": "0.00",
      "2021-06-27": "0.00",
      "2021-06-06": "0.00",
      "2021-06-28": "0.00",
      "2021-06-07": "0.00",
      "2021-06-29": "0.00",
      "2021-06-08": "0.00",
      "2021-06-09": "33.33",
      "corpName": "悦合89",
      "2021-06-30": "0.00",
      "2021-06-10": "0.00",
      "2021-06-11": "0.00",
      "2021-06-12": "0.00",
      "2021-06-13": "0.00",
      "2021-06-14": "0.00",
      "2021-06-15": "0.00",
      "2021-06-16": "0.00",
      "2021-06-17": "0.00",
      "2021-06-18": "0.00",
      "2021-06-19": "0.00"
    },
    {
      "2021-06-20": "0.00",
      "2021-06-21": "0.00",
      "2021-06-22": "0.00",
      "2021-06-01": "0.00",
      "2021-06-23": "0.00",
      "2021-06-02": "0.00",
      "2021-06-24": "0.00",
      "2021-06-03": "0.00",
      "2021-06-25": "0.00",
      "id": 54425205006336,
      "2021-06-04": "0.00",
      "2021-06-26": "0.00",
      "teamList": [
        {
          "teamName": "后勤服务管理部",
          "2021-06-20": "0.00",
          "2021-06-21": "0.00",
          "2021-06-22": "0.00",
          "2021-06-01": "0.00",
          "2021-06-23": "0.00",
          "2021-06-02": "0.00",
          "2021-06-24": "0.00",
          "2021-06-03": "0.00",
          "2021-06-25": "0.00",
          "2021-06-04": "0.00",
          "2021-06-26": "0.00",
          "2021-06-05": "0.00",
          "2021-06-27": "0.00",
          "2021-06-06": "0.00",
          "2021-06-28": "0.00",
          "2021-06-07": "0.00",
          "2021-06-29": "0.00",
          "2021-06-08": "0.00",
          "2021-06-09": "0.00",
          "2021-06-30": "0.00",
          "2021-06-10": "0.00",
          "teamId": 54425205006337,
          "2021-06-11": "0.00",
          "2021-06-12": "0.00",
          "2021-06-13": "0.00",
          "2021-06-14": "0.00",
          "2021-06-15": "0.00",
          "2021-06-16": "0.00",
          "2021-06-17": "0.00",
          "2021-06-18": "0.00",
          "2021-06-19": "0.00"
        }
      ],
    }
  ]


     
    };
  },
  created() {
    var test1 = "http://www.w3school.com.cn/My first/";

    console.log(encodeURI(test1) + "<br />");
    console.log(decodeURI(test1));

    const fn = function (o) {
      o.forEach((el) => {
        if (el.teamList) {
          el.children = el.teamList;
          fn(el.teamList);
        }
        el.corpName = el.corpName ? el.corpName : el.teamName;
        el.id = el.id ? el.id : el.teamId;
        el.chi;
      });
    };
    fn(this.content);
  },
  methods: {
    checkPhone() {
      console.log(/[@#$%^&*_+!\d]/.test(this.phone));
      if (teleAndMobilePhone(this.phone)) {
        this.$message("验证通过");
      } else {
        this.$message("手机号电话号不符合");
      }
    },
    load(tree, treeNode, resolve) {
      setTimeout(() => {
        resolve([
          {
            id: 31,
            date: "2016-05-01",
            name: "王小虎",
            address: "上海市普陀区金沙江路 1519 弄",
          },
          {
            id: 32,
            date: "2016-05-01",
            name: "王小虎",
            address: "上海市普陀区金沙江路 1519 弄",
          },
        ]);
      }, 1000);
    },
  },
};
</script>

<style>
.el-input__inner {
  width: 100%;
}
</style>